"use strict";(()=>{var E=class{constructor(e){this.messenger=e}updateSessionRules(e){this.messenger.send("chrome.declarativeNetRequest.updateSessionRules",e)}};var R="__@RESONSIVE_VIEWER_BACKGROUND_DONT_USE@__";var c="@RESPONSIVE-VIEWER";var t="https://responsiveviewer.org",S=`${t}/user/extension`,I=`${t}/user/session`,N=`${t}/user/uploads`,O=`${t}/api/feedback`,a=`${t}/uninstall`,A=`${t}/api/install`;var x=`${t}/login`,L=`${t}/dashboard`,P=`${t}/plugins`;var r=(s="",e="")=>{let o=`${c}${e?"-"+e:""}`;return s.startsWith(o)?s:`${o}/${s}`};var _=class{send(e,o){window.top&&window.top.postMessage({data:o,message:r(e,"SANDBOX")},"*")}};var n=class{constructor(){this.screens=[];this.messenger=new _,this.declarativeNetRequest=new E(this.messenger),window.addEventListener("message",e=>{this.#e(e.data)})}#e(e){switch(e.message){case r("LOAD_SCREENS"):this.screens=e.screens;break;case r("PLUGIN_SCRIPT_INSTALL"):new Function(e.script)();break;case r("BULK_MESSAGES"):for(let o of e.messages)this.#e(o)}}onDispose(e){}};window[R]=new n;})();
