"use strict";(()=>{var l="__@RESONSIVE_VIEWER_DONT_USE@__";var i=window[l];function b(t){let n=[];for(;t.parentElement!=null;){let e=0,r=0;for(let o=0;o<t.parentElement.childNodes.length;o++){let s=t.parentElement.childNodes[o];s.nodeName===t.nodeName&&(s===t&&(r=e),e++)}e>1?n.unshift(t.nodeName.toLowerCase()+":eq("+r+")"):n.unshift(t.nodeName.toLowerCase()),t=t.parentElement}return n}function c(t){return b(t).join(" > ")}var p=t=>{document.addEventListener("input",n=>{i.inform("UNTRUSTED_SCROLL"),t.active&&I(n)},{capture:!0})},I=t=>{if(!t.isTrusted)return;let n=t.target;if(!n)return;let e=c(n);i.inform("UNTRUSTED_SCROLL"),i.broadcast("INPUT_EVENT",{path:e,value:n.value})};var f=t=>Object.getOwnPropertyNames(Object.getPrototypeOf(t)).reduce((e,r)=>{let o=t[r];return["boolean","string","number"].includes(typeof o)&&(e[r]=o),e},{});var h=t=>{if(!t.isTrusted)return;let n=t.target;if(!n)return;let e=c(n),r=n.getBoundingClientRect();i.broadcast("MOUSE_EVENT",{type:t.type,path:e,position:{x:t.clientX-r.x,y:t.clientY-r.y},serialized:f(t)})};function d(t){["click","pointerdown","pointerup","focus"].forEach(e=>{document.addEventListener(e,r=>{i.memory("SYNC_MOUSE")!==!1&&(i.inform("UNTRUSTED_SCROLL"),t.active&&h(r))})})}var g=t=>t?t.tagName==="svg"?t:t!==document.body&&t.parentElement?g(t.parentElement):null:null,T=t=>{let n=/(:eq\(.*?\))/gi;return t.trim().split(n).map(e=>{if(e.startsWith(":eq")){let r=e.match(/([0-9])/g);return r?parseInt(r.join("")):0}return e=e.trim(),e.startsWith(">")&&(e=`:scope ${e}`),e}).filter(e=>e!=="")};function u(t){let n=T(t),e=document.documentElement;for(;n.length>0;){let o=n.shift(),s=0;if(typeof n[0]=="number"&&(s=n.shift()),typeof o=="string"&&(s>0?e=e.querySelectorAll(o)[s]:e=e.querySelector(o)),!e)return null}if(!e)return;let r=g(e);return r?r.parentElement||r:e}var v=({type:t,path:n,position:e,...r})=>{let o=u(n);if(!o)return;let s=o.getBoundingClientRect();if(t==="click"&&o.tagName.toLowerCase()==="input"&&!["checkbox","radio"].includes(o.type.toLowerCase())){let N=new MouseEvent("focus",{view:window,bubbles:!0,cancelable:!0});o.dispatchEvent(N);return}let E=new MouseEvent(t,{...r.serialized,bubbles:!0,cancelable:!1,view:window});o.dispatchEvent(E)};var S=({path:t,value:n})=>{let e=u(t);if(!e)return;let r=new KeyboardEvent("input",{bubbles:!0,cancelable:!1,view:window});e.dispatchEvent(r),e.value=n};var _=t=>{i.listen("MOUSE_EVENT",n=>{i.inform("UNTRUSTED_SCROLL"),t.active&&v(n)}),i.listen("INPUT_EVENT",n=>{i.inform("UNTRUSTED_SCROLL"),t.active&&S(n)})};var m="sync click",a={active:!1};i.onPluginActivate(m,()=>{a.active=!0});i.onPluginDeActivate(m,()=>{a.active=!1});i.onPluginLoaded(m,t=>{a.active=t.active||!1});d(a);p(a);_(a);})();
